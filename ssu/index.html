<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1, user-scalable=yes,initial-scale=1.0">
  <title>Parallax</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="assets/scss/main.css">
</head>
<body>
  <div id="wrap">
    <header>
      <h1 class="left-logo">
        <a href="#">
          Sulwhasoo
        </a>
        <p>Rose Brand Site Contents</p>
      </h1>
      <div class="top-wrap">
        <div class="rang">
          <h2 class="hidden">언어선택</h2>
          <ul>
            <li><a href="#">한국/한국어</a></li>
            <li><a href="#">한국/한국어</a></li>
          </ul>
        </div>
        <a href="#" class="logo">Sulwhasoo</a>
        <div class="right">
          <a href="#">매장찾기</a>
          <a href="#">구매하기</a>
          <a href="#">검색히기</a>
        </div>
      </div>
      <nav>
        <h2 class="hidden">메뉴</h2>
        <ul class="menu-wrap">
          <li class="active">
            <a href="#">브랜드 빌리프</a>
            <ul class="sub-menu">
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
            </ul>
          </li>
          <li>
            <a href="#">베스트셀러</a>
            <ul class="sub-menu">
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
            </ul>
          </li>
          <li>
            <a href="#">제품</a>
            <ul class="sub-menu">
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
            </ul>
          </li>
          <li>
            <a href="#">스파</a>
            <ul class="sub-menu">
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
            </ul>
          </li>
          <li>
            <a href="#">플래그십 스토어</a>
            <ul class="sub-menu">
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
              <li><a href="#">설화수 포스트</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>
    <div class="container rebloom">
      <div class="intro">
        <div class="intro-list intro1">
          <div class="intro-tit">
            <h2 class="tit01">SULWHASOO STORYTELLER</h2>
            <p class="intro-tit-sub">SULWHASOO REBLOOM<br />with ROSÉ</p>
          </div>
          <div class="intro-dim"></div>
        </div>
        <div class="intro-list intro2">
          <div class="intro-tit">
            <h3 class="tit02">GLOBAL AMBASSADOR, ROSÉ</p>
            <p class="intro-tit-sub">ROSÉ와 함께 할 설화수의 아름다운 여정</p>
          </div>
          <div class="intro-sub">
            <p>브랜드의 시작부터 완성까지<br />설화수가 걸어온 아름다움을 향한 여정들에 글로벌 앰배서더 ROSÉ가 함께합니다.</p>
          </div>
        </div>
        <div class="intro-list intro3">
          <div class="intro-sub">
            <p>그녀의 감각으로 재현한<br />앰배서더 필름 <사람은 흙에서 태어나 꽃이 된다>를 통해,<br />설화수의 세계관 스토리를 만나보세요.</p>
          </div>
        </div>
        <div class="full-video intro-video">
          <video width="100%" height="auto" autoplay loop muted controls playsinline>
            <source src="assets/video/ROSE_INTERVIEW.mp4" type="video/mp4">
          </video>
          <div class="video-dim"></div>
        </div>
        <button class="scroll-box">
          <span class="scroll-down">SCROLL</span>
          <span class="scroll-down-mo">스크롤하여 보기</span>
        </button>
      </div>
      <div class="cont1">
        <div class="cont1-top">
          <div class="cont1-film">
            <div class="film-box">
              <div class="film-txt">
                <h3 class="tit02">AMBASSADOR FILM</h3>
                <p class="cont-txt-tit">사람은 흙에서 태어나 꽃이 된다</p>
                <p class="cont-txt-sub">설화수의 시작과 완성까지의 여정을 담은<br /><사람은 흙에서 태어나 꽃이 된다>는<br />흙, 눈, 꽃의 은유적인 상징물로<br />설화수의 정신과 이미지를 시네마틱하게 표현하였습니다.
                </p>
                <button type="button" class="film-next-btn">앰버서더 필름 보기</button>
              </div>
              <div class="cont1-back-img scale-bg-img">
                <div class="full-video cont1-video">
                  <video width="100%" height="auto" autoplay loop muted controls playsinline>
                    <source src="assets/video/ROSE_SOIL.mp4" type="video/mp4">
                  </video>
                  <div class="video-dim"></div>
                </div>
              </div>
            </div>
            <div class="film-box film-box-next">
              <div class="film-txt">
                <p class="tit02">AMBASSADOR FILM</p>
                <p class="cont-txt-tit">사람은 흙에서 태어나 꽃이 된다</p>
                <button type="button" class="film-prev-btn">BACK</button>
              </div>
            </div>
          </div>
        </div>
        <div class="cont1-full full-bg-box">
          <div class="full-bg-txt">
            <h3 class="tit02">MOTHER EARTH</h3>
            <p class="full-bg-tit">흙의 기운으로 시작되다</p>
            <p class="full-bg-sub">1932년, 아름다움을 꽃피우기 위해 시작된<br />설화수의 찬란한 여정은 모든 만물의 근원이 되는<br />흙의 정신과 맞닿아 있습니다.
            </p>
          </div>
        </div>
        <div class="m-video m-cont1-video">
          <video width="100%" height="auto" autoplay loop muted controls playsinline>
            <source src="assets/video/ROSE_SOIL.mp4" type="video/mp4">
          </video>
          <div class="video-dim"></div>
        </div>
      </div>
      <div class="cont cont2">
        <div class="cont2-box">
          <div class="cont2-flow">
            <ul class="flow-list-box">
              <li class="flow-list flow1"><img src="assets/img/flow_img1.png" alt=""></li>
              <li class="flow-list flow2"><img src="assets/img/flow_img2.png" alt=""></li>
              <li class="flow-list flow3"><img src="assets/img/flow_img3.png" alt=""></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="cont cont3">
        <div class="story-box cont3-story">
          <div class="story-box-img"><img src="assets/img/story_img.png" alt=""></div>
          <div class="story-box-txt">
            <h3 class="tit02">AMBASSADOR STORY</h3>
            <p class="cont-txt-tit">설화수, 그리고 ROSÉ</p>
            <p class="cont-txt-sub">글로벌 앰배서더 ROSÉ.<br />
              <span>지금의 아티스트가 되기까지 그녀가 꿈을 향해<br />정진하던 모습은 설화수가 선도하고자 하는<br />여성의 진취적인 면모와 닮아 있습니다.</span>
            </p>
          </div>
        </div>
        <div class="cont3-back-img scale-bg-img">
          <div class="full-video intro-video">
            <video width="100%" height="auto" autoplay loop muted controls playsinline>
              <source src="assets/video/ROSE_SOIL2.mp4" type="video/mp4">
            </video>
            <div class="video-dim"></div>
          </div>
        </div>
      </div>
      <div class="cont4">
        <div class="cont4-box">
          <div class="cont4-full full-bg-box">
            <div class="full-bg-txt">
              <h3 class="tit02">SNOW</h3>
              <p class="full-bg-tit">고난 끝에 맞이한 환희</p>
              <p class="full-bg-sub">고난과 환희를 동시에 뜻하는 눈은<br />
                설화수가 지금의 모습으로 성장할 수 있었던 동력인, 오랜 시간 지켜온 철학과 헤리티지를 의미합니다.<br />
                흙, 눈, 꽃의 은유적인 상징물로 설화수의 정신과 이미지를 시네마틱하게 표현하였습니다.
              </p>
            </div>
            <div class="cont4-full-back">
              <div class="full-video cont4-video">
                <video width="100%" height="auto" autoplay loop muted controls playsinline>
                  <source src="assets/video/ROSE_SNOW.mp4" type="video/mp4">
                </video>
                <div class="video-dim"></div>
              </div>
            </div>
          </div>
          <div class="cont4-story">
            <div class="story-box">
              <div class="story-box-txt">
                <h3 class="tit02">AMBASSADOR STORY</h3>
                <p class="cont-txt-tit">다시 피어난 설화수, ROSÉ와 함께</p>
                <p class="cont-txt-sub">철학과 헤리티지를 바탕으로 ROSÉ와 함께<br />
                  정신과 움직임을 계승해 나가며<br />
                  설화수는 새롭게 피어나기를 다짐합니다.
                </p>
              </div>
              <div class="story-box-img"><img src="assets/img/story_img2.png" alt=""></div>
            </div>
          </div>
        </div>
      </div>
      <div class="cont5">
        <div class="cont5-full full-bg-box">
          <div class="full-bg-txt">
            <h3 class="tit02">FLOWER</h3>
            <p class="full-bg-tit">마침내 찬란한 꽃이 피어나다</p>
            <p class="full-bg-sub">
              설화수의 아름다운 여정은<br />
              마침내 눈을 뚫고 완연한 꽃으로 피어나<br />
              지금의 설화수의 모습으로 완성됩니다.
            </p>
          </div>
        </div>
        <div class="cont5-back-img scale-bg-img">
          <div class="full-video cont5-video">
            <video width="100%" height="auto" autoplay loop muted controls playsinline>
              <source src="assets/video/ROSE_FLOWER.mp4" type="video/mp4">
            </video>
            <div class="video-dim"></div>
          </div>
        </div>
      </div>
      <div class="cont cont6">
        <div class="history">
          <div class="history-box">
            <div class="history-list history1">1</div>
            <div class="history-list history2">2</div>
            <div class="history-list history3">3</div>
            <div class="history-list history4">4</div>
            <div class="history-list history5">5</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    let flowBoxW = 0; // flowBox Width
    let flowLastW = 0; // flowList - last Width
    let historyBoxW = 0; // historyBoxW Width
    function init() {
      flowBoxWidth()
      historyBoxWidth()
      fullSlide()
    }
    init()

    const intro = $('.intro')
    const introOffset = $('.intro').offset().top
    const introH = $('.intro').innerHeight()

    const cont1 = $('.cont1')
    const cont1offset = $('.cont1').offset().top
    const cont1TopH = $('.cont1-top').innerHeight()
    const cont1Bottom = $('.cont1-full').offset().top
    const cont1BotH = $('.cont1-top').innerHeight()

    const cont2 = $('.cont2')
    const cont2offset = $('.cont2').offset().top
    const cont2H = $('.cont2').innerHeight()
    const flowBoxoffset = $('.cont2-flow').offset().top

    const cont3 = $('.cont3')
    const cont3offset = $('.cont3').offset().top
    const cont3H = $('.cont3').innerHeight()

    const cont4 = $('.cont4')
    const cont4offset = $('.cont4').offset().top
    const cont4Boxoffset = $('.cont4-box').offset().top
    const cont4H = $('.cont4').innerHeight()

    const cont5 = $('.cont5')
    const cont5offset = $('.cont5').offset().top
    const cont5H = $('.cont5').innerHeight()

    const cont6 = $('.cont6')
    const cont6offset = $('.cont6').offset().top
    const cont6H = $('.cont6').innerHeight()

    /* cont1 - fullSlide */
    function fullSlide() {
      $('.film-next-btn').click(function() {
        $('.cont1-film').css({'left':'-' + 100 + '%'})
        $('html, body').animate({scrollTop:cont1offset}, 500)
        $('.cont1-film').on('scroll touchmove mousewheel', function(e){
            e.preventDefault();
            e.stopPropagation(); 
            return false;
          })
      })
      $('.film-prev-btn').click(function() {
        $('.cont1-film').css({'left':0});
        $('.cont1-film').off('scroll touchmove mousewheel'); 
      })
    }

    /* cont2 - flowBox width */
    function flowBoxWidth() {
      for (f = 0; f < $('.flow-list').length; f++) {
        let flowW = parseInt($('.flow'+(f + 1)).outerWidth(true))
        flowBoxW += flowW
        flowLastW = parseInt($('.flow'+($('.flow-list').length)).innerWidth())
      }
      $('.cont2').css({'height':flowBoxW})
    }

    /* cont6 - historyBox width */
    function historyBoxWidth() {
      for (h = 0; h < $('.history-list').length; h++) {
        let historyW = parseInt($('.history'+(h + 1)).outerWidth(true))
        historyBoxW += historyW
        historyLastW = parseInt($('.history'+($('.history-list').length)).innerWidth())
      }
      $('.cont6').css({'height':historyBoxW})
    }

    $(document).ready(function() {
      /*
      if($(document).scrollTop() > 0) {
        $('html, body').animate({scrollTop:0})
        return false;
      }
      */
    })
    $(document).scroll(function() {
  
      let winH = $(document).scrollTop()
      let winW = $(window).width()

      scrollFixed(winH)
      cont6Scroll(winH)

      // scrollTop, obgTop, obgHeight, contentName
      Motion(winH, introOffset, introH, 'intro')

      if (winW > 640) {
        Motion(winH, cont1offset, cont1TopH, 'cont1Top')
        Motion(winH, cont1Bottom, cont1BotH, 'cont1Bottom')
        Motion(winH, cont2offset, flowBoxW, 'cont2')
        Motion(winH, cont3offset, cont3H, 'cont3')
        Motion(winH, cont4offset, cont4H, 'cont4')
        Motion(winH, cont4Boxoffset, cont4H, 'cont4Box')
      } else {
        Motion(winH, cont1offset, cont1TopH, 'm-cont1Top')
        Motion(winH, cont3offset, cont3H, 'm-cont3')
        Motion(winH, cont4offset, cont4H, 'm-cont4')
      }
    })

    function Motion(winH, contTop, contHeight, content) {
      let scrollMin = contTop
      let scrollMax = contTop + contHeight
  
      let min = 1 / (scrollMax - scrollMin)
      let max = -(min * scrollMin)
      let totalRange = (min * winH) + max

      if(content == 'intro') {
        introScroll(totalRange, winH)
      } else if(content == 'cont1Top') {
        cont1Scale(totalRange, winH)
      } else if(content == 'cont1Bottom') {
        opacityScroll(totalRange, winH)
      } else if(content == 'cont2') {
        transScroll(totalRange, winH)
      } else if(content == 'cont3') {
        cont3Scale(totalRange, winH)
      } else if(content == 'cont4') {
        cont4Scroll(totalRange, winH)
      } else if(content == 'cont4Box') {
        cont4BoxLeft(totalRange, winH)
      } else if(content == 'm-cont1Top') {
        Mcont1Scroll(totalRange, winH)
      } else if(content == 'm-cont3') {
        Mcont3Scroll(totalRange, winH)
      } else if(content == 'm-cont4') {
        Mcont4Scroll(totalRange, winH)
      }
    }

    function scrollFixed(winH) {
      $('.scroll-box').bind().unbind().click(function(e) {
        if(winH > 0) {
          e.preventDefault();
          $('html, body').animate({scrollTop:0}, 500)
          return false;
        }
      })

      if(winH > 0) {
        $('.scroll-box').addClass('scroll-inpro')
      } else {
        $('.intro').removeClass('intro-on')
        $('.intro1').css({'opacity':1})
        $('.scroll-box').removeClass('scroll-inpro')
      }
    }
  
    /* intro scroll */
    function introScroll(totalRange, winH) {
      let introRange = totalRange * 5
      if (winH > 0 && winH <= introOffset + introH) {
        if (winH <= introH / 5) {
          $('.intro1').css({'opacity':1 - introRange})
          $('.intro2').css({'opacity':0 + introRange})
          $('.intro2').removeClass('intro2-focus')
          $('.intro').addClass('intro-on')
        } else if (winH <= (introH / 5) * 2) {
          $('.intro1').css({'opacity':0})
          $('.intro2').css({'opacity':1})
          $('.intro3').css({'opacity':0})
          $('.intro-video').removeClass('video-show')
        } else if (winH <= (introH / 5) * 3) {
          $('.intro2').addClass('intro2-focus')
          $('.intro-video').addClass('video-show')
        } else if (winH <= (introH / 5) * 4) {
          $('.intro').addClass('intro-on')
          $('.intro2').css({'opacity':4 - introRange})
          $('.intro3').css({'opacity':(-3) + introRange})
          $('.intro-video').removeAttr('style')
          $('.scroll-box').removeClass('back-white')
        } else if (winH <= introH) {
          $('.intro').removeClass('intro-on')
          $('.intro-list').css({'top':'auto', 'bottom':0})
          $('.intro1').css({'opacity':0})
          $('.intro2').css({'opacity':0})
          $('.intro3').css({'opacity':1})
          $('.intro-video').css({'position':'absolute','top':'auto'})
          $('.intro-video').addClass('video-show')
          $('.scroll-box').addClass('back-white')
        } 
      } else {
        $('.intro-video').removeAttr('style')
        $('.intro-video').removeClass('video-show')
        $('.intro-list').removeAttr('style')
        return
      }
    }

    /* cont1 - scale */
    function cont1Scale(totalRange, winH) {
      if (winH >= cont1offset && winH <= cont1offset + cont1TopH) {
        $('.scroll-box').removeClass('back-white')
        if (totalRange <= 0.75) {
          $('.cont1-back-img').css({'transform':'scale('+ (0.3 + totalRange) +')'});
          $('.cont1-back-img').css({'bottom':17 - (totalRange * 25)+'%'});
        } else {
          return;
        } 
      } else if (winH <= cont1offset) {
        $('.cont1-back-img').prop('style').removeProperty('transform');
        $('.cont1-back-img').prop('style').removeProperty('bottom');
        return
      } else {
        $('.cont1-back-img').css({'transform':'scale(1)'});
        $('.cont1-back-img').css({"bottom":'0'});
        return
      }
    }

    /* Mcont1 - scale */
    function Mcont1Scroll(totalRange, winH) {
      if(winH >= cont1offset && winH <= cont2offset) {
        if (winH >= cont1offset && winH <= cont1offset + cont1TopH) {
          //$('.m-cont1-video video').attr('autoplay', false)
          if (totalRange <= 1) {
            $('.m-cont1-video').css({'position':'fixed','top':'0','bottom':'auto','opacity':totalRange});
            $('.cont1-back-img').css({'position':'fixed','opacity':(1 - totalRange)})
          } else {
            return;
          } 
        } else if (winH >= cont1offset + cont1TopH) {
          $('.cont1-back-img').css({'position':'absolute','opacity':1})
          $('.m-cont1-video').css({'position':'absolute','top':'auto','bottom':'0','opacity':1});
        } else {
          $('.m-cont1-video').removeAttr('style')
          return
        }
      } else {
        $('.cont1-back-img').css({'position':'absolute','opacity':1})
        //$('.m-cont1-video video').attr('autoplay', true)
        return
      }
    }
  
    /* cont1 - opacity */
    function opacityScroll(totalRange, winH) {

      if (winH >= cont1Bottom && winH <= cont1Bottom + cont1BotH) {
        $('.cont1-video .video-dim').css({'background':'rgba(0,0,0,'+ (0.5 + totalRange) +')'});
      } else {
        $('.cont1-video .video-dim').css({'background':'rgba(0,0,0,0.5)'});
        return
      } 
    }

    /* cont2 - transform */
    function transScroll(totalRange, winH) {
      let transMin = cont2offset
      let transMax = cont2offset + flowBoxW
  
      let width1 = flowBoxW / (transMax - transMin)
      let width2 = -(width1 * transMin)
      let widthRange = (width1 * winH) + width2

      if (winH >= cont2offset && winH <= cont2offset + flowBoxW) {
        if(widthRange <= flowBoxW / 2) {
          $('.cont2-flow').css({'transform':'translate(-'+ widthRange  +'px, -'+ totalRange * 100 +'%)'});
        } else {
          return
        }
      } else if (winH <= cont2offset){
        $('.cont2-box').removeAttr('style');
        $('.cont2-flow').prop('style').removeProperty('transform');
        return
      } else {
        return
      }
    }

    /* cont3 - scale */
    function cont3Scale(totalRange, winH) {
      if (winH >= cont3offset && winH <= cont3offset + (cont3H / 2)) {
        if ((totalRange * 2) <= 0.7) {
          $('.cont3-back-img').removeClass('fix')
          $('.cont3-back-img').css({'top':'calc(100vh - '+ (100 - totalRange * 300) +'px)', 'transform':'scale('+ (0.3 + (totalRange * 2)) +')'});
        } else {
          return;
        } 
      } else if (winH >= cont3offset + (cont3H / 2) && winH <= cont3offset + cont3H) {
        $('.cont3-back-img').css({'top':'0', 'transform':'scale('+ (0.5 + totalRange) +')', 'transform-origin':'center center'});
        $('.cont3-back-img').addClass('fix')
      } else if (winH <= cont3offset) {
        $('.cont3-back-img').removeAttr('style');
        $('.cont3-back-img').removeClass('fix')
        return
      } else {
        return
      }
    }

    /* cont4 - backImg */
    function cont4Scroll(totalRange, winH) {
      if (winH >= cont4offset && winH <= cont4offset + (cont4H / 3)) {
        console.log('dd')
        $('.cont3-back-img').css({'top':'0', 'opacity':1- (totalRange * 3)});
        $('.cont4-full-back .video-dim').css({'opacity':1 - ((totalRange * 3) / 2)});
        cont4.addClass('back-on');
        $('.cont4-full-back').removeClass('back-on');
      } else if(winH >= cont4offset + (cont4H / 3)) {
        $('.cont3-back-img').removeClass('fix')
        cont4.removeClass('back-on');
      } else {
        $('.cont3-back-img').css({'opacity':1});
        cont4.removeClass('back-on');
        return
      } 
    }

    /* cont4 - leftBox*/
    function cont4BoxLeft(totalRange, winH) {
      if (winH >= cont4Boxoffset && winH <= cont4offset + (cont4H / 3) * 2) {
        $('.cont4-box').css({'position':'fixed','top':'0','bottom':'auto','left':'-'+totalRange * 300+'%'})
        //$('.cont4-video').addClass('video-show')
      } else if (winH >= cont4offset + (cont4H / 3) * 2) {
        $('.cont4-box').css({'position':'absolute','top':'auto','bottom':'0','left':-100+'%'})
        if (((totalRange * 300) - 100) <= 100) {
          $('.cont5-back-img').css({'top':-(200 - (totalRange * 300)) +'px', 'transform':'scale('+ (0.3 + ((totalRange - 0.3) * 2)) +')'});
        } else {
          $('.cont5-back-img').css({'top':0, 'transform':'scale(1)'});
          return
        }
      } else {
        $('.cont4-box').prop('style').removeProperty('position');
        $('.cont4-box').css({'left':0})
        $('.cont4-video').removeClass('video-show')
        return
      }
    }
    
    /* Mcont3 - scale */
    function Mcont3Scroll(totalRange, winH) {
      if (winH >= cont3offset && winH <= cont3offset + (cont3H / 2)) {
        if ((totalRange * 2) <= 1) {
          $('.cont3-back-img').addClass('fix')
          $('.cont3-back-img').css({'top':'0','bottom':'auto','opacity':totalRange * 2});
          $('.cont3-story').addClass('story-fixed') // story-fixed : mobile 스토리박스 fixed
          $('.cont3-story').css({'opacity':(1 - totalRange)})
        } else {
          return;
        } 
      } else if (winH >= cont3offset + (cont3H / 2) && winH <= cont3offset + cont3H) {
        $('.cont3-back-img').css({'top':'0', 'transform':'scale('+ (0.5 + totalRange) +')', 'transform-origin':'center center'});
      } else if (winH <= cont3offset) {
        $('.cont3-back-img').removeAttr('style');
        $('.cont3-story').removeClass('story-fixed');
        $('.cont3-story').removeAttr('style')
      } else {
        $('.cont3-story').removeClass('story-fixed');
        return
      }
    }

    /* Mcont4 - backImg */
    function Mcont4Scroll(totalRange, winH) {
      if(winH >= cont4offset && winH <= cont4offset + cont4H) {
        if (winH >= cont4offset && winH <= cont4offset + (cont4H / 3)) {
          $('.cont3-back-img').css({'top':'0','opacity':1 - ((totalRange * 3) * 2)})
          $('.cont4-box').addClass('full-fixed')
          if ((totalRange * 3) <= 0.5) {
            $('.cont4-full-back .video-dim').css({'opacity':1 - (totalRange * 3)})
          } else {
            $('.cont4-full-back .video-dim').css({'opacity':0.5})
            return
          }
        } else if(winH >= cont4offset + (cont4H / 3)) {
          $('.cont3-back-img').removeClass('fix')
          $('.cont4-box').removeClass('full-fixed')
        }
      } else {
        $('.cont3-back-img').addClass('fix')
        $('.cont4 .full-bg-txt').removeAttr('style')
        $('.cont4-box').removeClass('full-fixed')
        return 
      }
    }

    /* cont6 - rowSlide */
    function cont6Scroll(winH) {
      let width1 = (historyBoxW * 2) / ((cont6offset + historyBoxW) - cont6offset)
      let width2 = -(width1 * cont6offset)
      let widthRange = (width1 * winH) + width2

      if (winH >= cont6offset && winH <= cont6offset + cont6H) {
        $('.history-box').css({'transform':'translate(-'+ widthRange +'px, 0'});
        if(widthRange <= (historyBoxW / 2) + (historyLastW / 2)) {
          //$('.history-box').css({'transform':'translate(-'+ widthRange +'px, 0'});
        }
      }
    }
  </script>
</body>
</html>